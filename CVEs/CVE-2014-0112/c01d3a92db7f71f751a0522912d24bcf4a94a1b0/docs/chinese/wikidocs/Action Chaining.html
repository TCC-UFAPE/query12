<html>
    <head>
        <title>WebWork 2 : 活动链</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=GBK">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            WebWork 2 : 活动链
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Nov 29, 2004 by <font color="#0050B2">jcarreira</font>.
				    </div>

				    <p class="paragraph">WebWork2中的ActionChainResult可以将多个活动组合起来按照定义号的顺序或工作流程执行. 使用ActionChainResult作为活动的结果类型, 如下:</p><div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;&#33;&#45;&#45; simple chain example to an action in same namespace &#45;&gt;</span>&#10;<span class="xml&#45;tag">&lt;result name=<span class="xml&#45;quote">&quot;success&quot;</span> type=<span class="xml&#45;quote">&quot;chain&quot;</span>&gt;</span>&#10;    <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;actionName&quot;</span>&gt;</span>Bar<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;<span class="xml&#45;tag">&lt;/result&gt;</span></pre>
</div></div>
<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;&#33;&#45; example of chaining to an action in a different namespace/package &#45;&#45;&gt;</span>&#10;<span class="xml&#45;tag">&lt;result name=<span class="xml&#45;quote">&quot;success&quot;</span> type=<span class="xml&#45;quote">&quot;chain&quot;</span>&gt;</span>&#10;	<span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;actionName&quot;</span>&gt;</span>viewFoo<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;	<span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;namespace&quot;</span>&gt;</span>/foo<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;<span class="xml&#45;tag">&lt;/result&gt;</span></pre>
</div></div><p class="paragraph">同一个名空间(或缺省名空间&quot;&quot;)中的另一个活动将在该活动后执行(参见<a href="http://wiki.opensymphony.com//display/XW/Configuration" title="Configuration">XW:Configuration</a>). 页可以使用可选的&quot;namespace&quot;参数指定不同名空间中的活动. Request中的原始(original)参数和ValueStack被传递到链上, 同时被链接的活动也被传递到值栈中. 这就允许链接的活动可以在值栈中访问之前活动的属性, 这些属性页可以在链的最后结果(如JSP或Velocity页面)中使用.</p>如果需要将前一个活动的属性复制到当前活动中, 可以使用ChainingInterceptor(参见<a href="http://wiki.opensymphony.com//display/XW/Interceptors" title="Interceptors">XW:Interceptors</a>), 它会将值栈中所有对象的属性全部复制到当前目标对象中.<p class="paragraph">活动链的一般用途是提供查找表(例如关于状态的下拉列表). 由于活动被放置在值栈中, 因此它们的属性页可以在视图中使用. 也可以通过在先是页面中使用action标签执行一个活动来完成这一目的. 在WebWork 1.x中活动链通常链接到RedirectAction以便在处理后重定向到另一个页面(WebWork2 提供了redirect结果类型).</p>当你向要封装一些复用代码时, 这一方法很有用&#8230; 在WebWork 2中, 如果某个复用代码被大量使用, 可以把它编写为截取器, 或者使用活动链. 如果你需要设置并使用某些属性, 应该使用活动.

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Dec 14, 2004 16:36</font></td>
		    </tr>
	    </table>
    </body>
</html>